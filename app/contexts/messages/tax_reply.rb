require "telegram/bot"

module Messages
  class TaxReply
    attr_reader :bot, :message

    def initialize(message)
      token = ENV.fetch("TELEGRAM_BOT_TOKEN") { Rails.application.credentials.telegram[:token] }
      @bot = Telegram::Bot::Client.new(token, logger: Logger.new($stdout))
      @message = message
    end

    def send
      bot.api.send_message(chat_id: message.chat.id, reply_to_message_id: message.message_id, text: replies.sample, parse_mode: "MarkdownV2")
    end

    private

    def replies
      [
        "–ù–∞–ª–æ–≥–∏ —Ç–∞–∫–∏–µ –≤—ã—Å–æ–∫–∏–µ, —á—Ç–æ —è —Å–∫–æ—Ä–æ –Ω–∞—á–Ω—É –ø–æ–¥–∞–≤–∞—Ç—å –¥–µ–∫–ª–∞—Ä–∞—Ü–∏—é –Ω–∞ –∫–∞–∂–¥—ã–π —Å–º–µ—à–æ–∫ –∏ —É–ª—ã–±–∫—É, —á—Ç–æ–±—ã —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –Ω–∞ —Ö–æ—Ä–æ—à–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ\\! üòÑ",
        "–° —Ç–∞–∫–∏–º–∏ –Ω–∞–ª–æ–≥–∞–º–∏ —è —Å–∫–æ—Ä–æ –±—É–¥—É –ø—Ä–æ—Å–∏—Ç—å —Å–∫–∏–¥–∫—É –Ω–∞ –≤–æ–∑–¥—É—Ö\\. –ê –≤–µ–¥—å –≥–æ–≤–æ—Ä–∏–ª–∏, —á—Ç–æ —Å–º–µ—Ö \\- –ª—É—á—à–µ–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–æ, –Ω–∞–¥–µ—é—Å—å, –µ–≥–æ –µ—â–µ –Ω–µ –æ–±–ª–æ–∂–∏–ª–∏\\! üòÇ",
        "–ï—Å–ª–∏ –Ω–∞–ª–æ–≥–∏ –µ—â–µ –Ω–µ–º–Ω–æ–≥–æ –ø–æ–¥–Ω–∏–º—É—Ç, —è –Ω–∞—á–Ω—É –ø–ª–∞—Ç–∏—Ç—å –∏—Ö —É–ª—ã–±–∫–∞–º–∏ –∏ –¥–æ–±—Ä—ã–º–∏ —Å–ª–æ–≤–∞–º–∏\\. –í–¥—Ä—É–≥ —É –Ω–∏—Ö —Ç–æ–∂–µ —Ö–æ—Ä–æ—à–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è\\? üòÜ",
        "–ù–∞–ª–æ–≥–∏ —Ç–∞–∫–∏–µ –≤—ã—Å–æ–∫–∏–µ, —á—Ç–æ —è —É–∂–µ –ø–æ–¥—É–º—ã–≤–∞—é –æ –Ω–∞–ª–æ–≥–æ–≤–æ–º –≤—ã—á–µ—Ç–µ –Ω–∞ –∫–∞–∂–¥—ã–π –≤–¥–æ—Ö –∏ –≤—ã–¥–æ—Ö\\. –ú–æ–∂–µ—Ç, —ç—Ç–æ —Ö–æ—Ç—å –Ω–µ–º–Ω–æ–≥–æ —Å—ç–∫–æ–Ω–æ–º–∏—Ç –º–æ—é –∂–∏–∑–Ω–µ–Ω–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é\\! üòÖ",
        "–ì–æ–≤–æ—Ä—è—Ç, —á—Ç–æ –Ω–∞–ª–æ–≥–∏ \\- —ç—Ç–æ —Ü–µ–Ω–∞ —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏–∏\\. –° —Ç–∞–∫–∏–º–∏ —Å—Ç–∞–≤–∫–∞–º–∏ —è, –≤–∏–¥–∏–º–æ, —É–∂–µ –æ–ø–ª–∞—Ç–∏–ª —Å–≤–æ–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç –≤ –∫–ª—É–± '–ü–ª–∞—Ç–∏ –∏ –ø–ª–∞—á—å' –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ –¥–µ—Å—è—Ç—å –ª–µ—Ç\\! üòú",
        "–ù–∞–ª–æ–≥–∏ —Ç–∞–∫–∏–µ –≤—ã—Å–æ–∫–∏–µ, —á—Ç–æ —è —É–∂–µ –¥—É–º–∞—é, –Ω–µ –Ω–∞—á–∞—Ç—å –ª–∏ —ç–∫–æ–Ω–æ–º–∏—Ç—å –Ω–∞ —Å–º–∞–π–ª–∏–∫–∞—Ö\\. –°–ª–∏—à–∫–æ–º –¥–æ—Ä–æ–≥–æ –≤—ã—Ö–æ–¥—è—Ç\\! üòÜ",
        "–° —Ç–∞–∫–∏–º–∏ –Ω–∞–ª–æ–≥–∞–º–∏ —è —Å–∫–æ—Ä–æ –±—É–¥—É –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —á–∏—Ö\\. –ú–æ–∂–µ—Ç, —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –Ω–∞–ª–æ–≥–æ–æ–±–ª–∞–≥–∞–µ–º—É—é –±–∞–∑—É\\? ü§ß",
        "–ï—Å–ª–∏ –Ω–∞–ª–æ–≥–∏ –µ—â–µ –ø–æ–¥–Ω–∏–º—É—Ç—Å—è, –ø—Ä–∏–¥–µ—Ç—Å—è –ø–ª–∞—Ç–∏—Ç—å –Ω–∞–ª–æ–≥ –Ω–∞ –Ω–∞–ª–æ–≥\\. –ù–∞–¥–µ—é—Å—å, –∑–∞ —ç—Ç–æ —Ö–æ—Ç—å –¥–≤–æ–π–Ω—ã–µ –±–∞–ª–ª—ã –¥–∞–¥—É—Ç\\! ü§î",
        "–ù–∞–ª–æ–≥–∏ —Ç–∞–∫–∏–µ –≤—ã—Å–æ–∫–∏–µ, —á—Ç–æ —è —É–∂–µ –Ω–∞—á–∞–ª –º–µ—á—Ç–∞—Ç—å –æ –Ω–∞–ª–æ–≥–æ–≤—ã—Ö –∫–∞–Ω–∏–∫—É–ª–∞—Ö\\. –¢–æ–ª—å–∫–æ –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, –æ—Ç–ø—É—Å–∫ –±–µ–∑ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–π\\! üå¥",
        "–° —Ç–∞–∫–∏–º–∏ –Ω–∞–ª–æ–≥–∞–º–∏ —Å–∫–æ—Ä–æ –ø—Ä–∏–¥–µ—Ç—Å—è –ø–ª–∞—Ç–∏—Ç—å –Ω–∞–ª–æ–≥ –Ω–∞ –∫–∞–∂–¥—ã–π —à–∞–≥\\. –ú–æ–∂–µ—Ç, —ç—Ç–æ –ø–æ–º–æ–∂–µ—Ç –º–Ω–µ –Ω–∞–∫–æ–Ω–µ—Ü –Ω–∞—á–∞—Ç—å –º–µ–Ω—å—à–µ —Ö–æ–¥–∏—Ç—å\\! üö∂"
      ]
    end
  end
end
